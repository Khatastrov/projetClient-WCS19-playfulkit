{% extends 'base.html.twig' %}

{% block title %}
    {{ tuto.title }}
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('tutorial') }}
{% endblock %}

{% block body %}
{{ dump (tuto) }}
    <div class="tutoPresentation">
        <h1>{{ tuto.title }}</h1>
        <div class="metadata">Publi√© le
            {{ tuto.dateCreation | date('d/m/Y') }}
            par
            {{ tuto.author ? tuto.author : 'Anonyme' }}</div>

        <article class="tutoCcontent">
            {% if tuto.illustration is not null %}
                {% set ext = tuto.illustration|split('.') %}
                {% if ext[1] is defined %}
                    <img src="/images/tutorial/{{ tuto.illustration }}" >
                {% else %}
                    <iframe width="560" height="315" src="http://www.youtube.com/embed/{{ tuto.illustration }}"></iframe>
                {% endif %}
            {% endif %}

            <p>
                {{ tuto.content | raw }}
            </p>
        </article>
    </div>

    {% if tuto.steps is not empty %}
        <ol>
            {% for step in tuto.steps %}
                <li>
                    <div class="customCollapse">
                        {{ step.title }}
                        <button type="button">+</button>

                        <br>
                        <article class="contentCollapse">
                            <div class="row">
                                <p class="col-12 col-sm-12 col-md-8 col-lg-9 col-xl-10">
                                    {{ step.content }}
                                </p>
                                {% if step.image is not null %}
                                    <img src="/images/step/{{ step.image }}"
                                         class="col-12 col-sm-12 col-md-4 col-lg-3 col-xl-2">
                                {% endif %}
                            </div>
                        </article>
                </li>
            {% endfor %}
        </ol>
    {% endif %}

{% endblock %}

    {% block javascripts %}
        {{ parent() }}
        {{ encore_entry_script_tags('tutorial') }}
    {% endblock %}
